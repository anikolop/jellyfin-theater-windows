<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:viewModels="clr-namespace:MediaBrowser.Theater.Presentation.ViewModels;assembly=MediaBrowser.Theater.Presentation"
                    xmlns:controls="clr-namespace:MediaBrowser.Theater.Presentation.Controls;assembly=MediaBrowser.Theater.Presentation">

    <Style x:Key="DetailPageMenuListBoxItemStyle" TargetType="{x:Type ListBoxItem}" BasedOn="{StaticResource ListBoxItemStyle}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ListBoxItem}">
                    <TextBlock Opacity=".45" x:Name="MenuText" Margin="45 0" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Text="{Binding}" Style="{DynamicResource Heading2TextBlockStyle}"></TextBlock>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="true">
                            <Setter TargetName="MenuText" Property="Opacity" Value="1"/>
                        </Trigger>
                        <Trigger Property="IsFocused" Value="true">
                            <Setter TargetName="MenuText" Property="Opacity" Value="1"/>
                            <Setter TargetName="MenuText" Property="TextBlock.TextDecorations" Value="Underline"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="DetailPageContentStyle" TargetType="{x:Type ContentControl}">
        <Style.Triggers>
            <DataTrigger Binding="{Binding CurrentSection}" Value="cast">
                <Setter Property="Content">
                    <Setter.Value>
                        <Grid>
                            <controls:ExtendedListBox Margin="-25 0 -25 0" DataContext="{Binding ContentViewModel}" ItemsSource="{Binding ListCollectionView}" Command="{Binding NavigateCommand}" KeyboardNavigation.DirectionalNavigation="Continue" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Style="{DynamicResource ListBoxStyle}" ItemContainerStyle="{DynamicResource HighlightedListBoxItemStyle}" ScrollViewer.CanContentScroll="False" ItemTemplate="{DynamicResource PersonInfoTemplate}">
                                <controls:ExtendedListBox.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid Rows="2" Margin="40 35"></UniformGrid>
                                    </ItemsPanelTemplate>
                                </controls:ExtendedListBox.ItemsPanel>
                            </controls:ExtendedListBox>
                        </Grid>
                    </Setter.Value>
                </Setter>
            </DataTrigger>
            <DataTrigger Binding="{Binding CurrentSection}" Value="scenes">
                <Setter Property="Content">
                    <Setter.Value>
                        <Grid>
                            <controls:ExtendedListBox Margin="-20 -15 -20 -15" DataContext="{Binding ContentViewModel}" ItemsSource="{Binding ListCollectionView}" Command="{Binding PlayCommand}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Style="{DynamicResource ListBoxStyle}" ItemContainerStyle="{DynamicResource HighlightedListBoxItemStyle}" ScrollViewer.CanContentScroll="False" ItemTemplate="{DynamicResource ItemChaptersTemplate}">
                                <controls:ExtendedListBox.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid Rows="3" Margin="40 35"></UniformGrid>
                                    </ItemsPanelTemplate>
                                </controls:ExtendedListBox.ItemsPanel>
                            </controls:ExtendedListBox>
                        </Grid>
                    </Setter.Value>
                </Setter>
            </DataTrigger>
            <DataTrigger Binding="{Binding CurrentSection}" Value="reviews">
                <Setter Property="Content">
                    <Setter.Value>
                        <Grid>
                            <controls:ExtendedListBox Margin="-25 -15 -25 -15" DataContext="{Binding ContentViewModel}" ItemsSource="{Binding ListCollectionView}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Style="{DynamicResource ListBoxStyle}" ItemContainerStyle="{DynamicResource HighlightedListBoxItemStyle}" ScrollViewer.CanContentScroll="False" ItemTemplate="{DynamicResource CriticReviewsTemplate}">
                                <controls:ExtendedListBox.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid Rows="2" Margin="40 35"></UniformGrid>
                                    </ItemsPanelTemplate>
                                </controls:ExtendedListBox.ItemsPanel>
                            </controls:ExtendedListBox>
                        </Grid>
                    </Setter.Value>
                </Setter>
            </DataTrigger>
            <DataTrigger Binding="{Binding CurrentSection}" Value="gallery">
                <Setter Property="Content">
                    <Setter.Value>
                        <Grid>
                            <controls:ExtendedListBox Margin="-25 -15 -25 -15" DataContext="{Binding ContentViewModel}" ItemsSource="{Binding ListCollectionView}" Command="{Binding OpenImageViewerCommand}" KeyboardNavigation.DirectionalNavigation="Continue" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Style="{DynamicResource ListBoxStyle}" ItemContainerStyle="{DynamicResource HighlightedListBoxItemStyle}" ScrollViewer.CanContentScroll="False" ItemTemplate="{DynamicResource ItemGalleryTemplate}">
                                <controls:ExtendedListBox.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid Rows="2" Margin="40 35"></UniformGrid>
                                    </ItemsPanelTemplate>
                                </controls:ExtendedListBox.ItemsPanel>
                            </controls:ExtendedListBox>
                        </Grid>
                    </Setter.Value>
                </Setter>
            </DataTrigger>
        </Style.Triggers>
    </Style>

    <DataTemplate x:Key="PersonInfoTemplate" DataType="{x:Type viewModels:ItemPersonViewModel}">
        <Grid Background="#a6000000">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>

            <Image Stretch="Uniform" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="15" Source="{Binding Image}">
                <Image.Style>
                    <Style TargetType="{x:Type Image}">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding HasImage}" Value="False">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
            </Image>

            <Grid Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Center">

                <Grid.Style>
                    <Style TargetType="{x:Type Grid}">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding HasImage}" Value="True">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding IsImageLoading}" Value="True">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Grid.Style>

                <Grid Width="200" Height="324" />

                <Path Data="M46.435009,38.400886C49.406406,38.514088,57.405701,44.571438,58.091999,63.541691L0.034687833,63.999996C0.034687862,63.999996 -1.5642508,39.770598 16.949333,38.62739 24.263227,37.485477 31.575024,44.798037 35.69162,44.111832 39.807415,43.428225 43.463013,38.286284 46.435009,38.400886z M33.176399,0C41.508446,0 48.263,7.6744537 48.263,17.1418 48.263,26.611844 41.508446,34.285 33.176399,34.285 24.845757,34.285 18.092001,26.611844 18.092001,17.1418 18.092001,7.6744537 24.845757,0 33.176399,0z" Stretch="Uniform" Fill="#FFFFFFFF" Width="136" Height="136" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                    <Path.RenderTransform>
                        <TransformGroup>
                            <TransformGroup.Children>
                                <RotateTransform Angle="0" />
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                            </TransformGroup.Children>
                        </TransformGroup>
                    </Path.RenderTransform>
                </Path>
            </Grid>

            <StackPanel Orientation="Vertical" Grid.Column="1" Margin="10 50 20 20" MaxWidth="250">

                <TextBlock Foreground="White" Style="{DynamicResource TextBlockStyle}" TextTrimming="CharacterEllipsis" TextWrapping="Wrap" Text="{Binding Name}"></TextBlock>

                <TextBlock x:Name="TxtRole" Foreground="White" Margin="0 20 0 0" TextTrimming="CharacterEllipsis" TextWrapping="Wrap" Text="{Binding Role, StringFormat='as {0}'}">
                    <TextBlock.Style>
                        <Style TargetType="{x:Type TextBlock}" BasedOn="{StaticResource TextBlockStyle}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Text, ElementName=TxtRole}" Value="as ">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>

                <TextBlock Foreground="White" Margin="0 20 0 0" TextTrimming="CharacterEllipsis" TextWrapping="Wrap" Text="{Binding PersonType}">
                    <TextBlock.Style>
                        <Style TargetType="{x:Type TextBlock}" BasedOn="{StaticResource TextBlockStyle}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Visibility, ElementName=TxtRole}" Value="Visible">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </StackPanel>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="ItemChaptersTemplate" DataType="{x:Type viewModels:ChapterInfoViewModel}">
        <Grid MinWidth="300">

            <Grid Background="#a6000000">
                <Grid.Style>
                    <Style TargetType="{x:Type Grid}">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding HasImage}" Value="True">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding IsImageLoading}" Value="True">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Grid.Style>

                <Path Data="M1.8500002,39.924L1.8500002,40.276001 39.841,40.276001 39.841,39.924z M1.8500002,34.230999L1.8500002,34.584 39.841,34.584 39.841,34.230999z M1.8500002,28.540001L1.8500002,28.892 39.841,28.892 39.841,28.540001z M37.17688,15.361014L35.26218,18.858 39.2463,18.858 41.160999,15.361014z M26.960289,15.361L25.051514,18.858 29.042191,18.858 30.950966,15.361z M16.739975,15.361L14.831516,18.858 18.821537,18.858 20.729998,15.361z M6.5203348,15.361L4.6115814,18.858 8.6022168,18.858 10.510971,15.361z M3.2071796,11.557376C3.1205795,11.55483 3.0319551,11.564951 2.9436825,11.589129 2.4829136,11.718081 2.212462,12.194902 2.3426791,12.655729L2.3426791,12.656729C2.46288,13.118556 2.9436825,13.386456 3.4144688,13.259503 3.8752378,13.131551 4.1456891,12.652731 4.025488,12.191903L4.025488,12.190904C3.9196869,11.817294,3.5824443,11.568406,3.2071796,11.557376z M8.4505463,9.0880299L4.5999971,10.151048 7.6604515,13.299029 11.50099,12.238054z M18.299975,6.3690219L14.449993,7.4317656 17.509979,10.581008 21.349962,9.5182638z M28.149992,3.6520028L24.300011,4.7130027 27.349999,7.8630033 31.19998,6.8020015z M37.999447,0.93302757L34.150021,1.9940284 37.199566,5.1440277 41.048996,4.0830278z M40.468021,0L41.627998,4.1752639 4.4089723,14.448702 4.4089723,15.119 41.706001,15.119 41.706001,19.450001 41.514,19.450001 41.514,42.667 0.23000007,42.667 0.23000007,19.450001 0,19.450001 0,15.119 0.050019972,15.119 0.050019972,11.765008C0.05001996,11.544946,0.12847768,11.34345,0.25860289,11.186396L0.28664622,11.155655 0.27000001,11.095737 0.37976817,11.065437 0.38216636,11.063265C0.53962899,10.933719,0.74110407,10.856008,0.9598012,10.856008L1.1384982,10.856008z" Stretch="Uniform" Fill="#FFFFFFFF" Width="68" Height="68" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                    <Path.RenderTransform>
                        <TransformGroup>
                            <TransformGroup.Children>
                                <RotateTransform Angle="0" />
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                            </TransformGroup.Children>
                        </TransformGroup>
                    </Path.RenderTransform>
                </Path>
            </Grid>

            <Image Stretch="UniformToFill" Source="{Binding Image}">
                <Image.Style>
                    <Style TargetType="{x:Type Image}">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding HasImage}" Value="False">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
            </Image>

            <Grid HorizontalAlignment="Stretch" VerticalAlignment="Bottom">
                <Grid.Background>
                    <SolidColorBrush Color="#A6000000"></SolidColorBrush>
                </Grid.Background>
                <StackPanel Orientation="Vertical" Margin="10 5 0 10">
                    <TextBlock x:Name="TxtTime" Foreground="White" Style="{DynamicResource TextBlockStyle}" Text="{Binding TimeString}"></TextBlock>
                </StackPanel>
            </Grid>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="ItemGalleryTemplate" DataType="{x:Type BitmapImage}">
        <Image Source="{Binding}" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="Uniform">

        </Image>
    </DataTemplate>

    <DataTemplate x:Key="CriticReviewsTemplate" DataType="{x:Type viewModels:ItemReviewViewModel}">
        <Grid Background="#a6000000" MaxWidth="550">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition Height="auto"></RowDefinition>
                <RowDefinition Height="auto"></RowDefinition>
            </Grid.RowDefinitions>

            <Image x:Name="ImgFresh" Grid.Column="0" Grid.Row="0" VerticalAlignment="Top" Margin="15 15 5 15" Source="../Resources/Images/fresh.png">
                <Image.Style>
                    <Style TargetType="{x:Type Image}">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Likes}" Value="False">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Likes}" Value="{x:Null}">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
            </Image>

            <Image x:Name="ImgRotten" Grid.Column="0" Grid.Row="0" VerticalAlignment="Top" Margin="15 15 5 15" Source="../Resources/Images/rotten.png">
                <Image.Style>
                    <Style TargetType="{x:Type Image}">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Likes}" Value="True">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Likes}" Value="{x:Null}">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
            </Image>

            <TextBlock Style="{DynamicResource SmallTextBlockStyle}" TextTrimming="CharacterEllipsis" Grid.Column="1" Grid.Row="0" Margin="15" Text="{Binding Caption, StringFormat='&quot;{0}&quot;'}"></TextBlock>

            <TextBlock Style="{DynamicResource SmallTextBlockStyle}" Foreground="#cccccc" TextTrimming="CharacterEllipsis" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1" Margin="15 5 15 15" HorizontalAlignment="Right" Text="{Binding CombinedSource}"></TextBlock>

        </Grid>
    </DataTemplate>
</ResourceDictionary>